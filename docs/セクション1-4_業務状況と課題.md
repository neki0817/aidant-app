# ã‚»ã‚¯ã‚·ãƒ§ãƒ³1-4: æ¥­å‹™çŠ¶æ³ã¨èª²é¡Œï¼ˆBusiness Operations and Challengesï¼‰

## å¯¾å¿œã™ã‚‹æ§˜å¼2ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³

**æ§˜å¼2ã€Œ1. ä¼æ¥­æ¦‚è¦ > (4) æ¥­å‹™çŠ¶æ³ã¨èª²é¡Œã€**

### è¨˜è¼‰å†…å®¹ã®è¦ä»¶

1. **å¾“æ¥­å“¡æ•°**: å¸¸æ™‚é›‡ç”¨å¾“æ¥­å“¡æ•°ã€ãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆæ•°
2. **ä¸»ãªæ¥­å‹™**: èª°ãŒä½•ã‚’æ‹…å½“ã—ã¦ã„ã‚‹ã‹
3. **ç¾åœ¨ã®èª²é¡Œ**: çµŒå–¶ä¸Šã®èª²é¡Œã€è¨­å‚™ã®èª²é¡Œã€è²©è·¯ã®èª²é¡Œç­‰

### è¨˜è¼‰ä¾‹ï¼ˆæ§˜å¼2_ã‚µãƒ³ãƒ—ãƒ«_40ä»£ç”·æ€§.md ã‚ˆã‚Šï¼‰

```
**å¾“æ¥­å“¡æ•°:**
- å¸¸æ™‚é›‡ç”¨å¾“æ¥­å“¡ï¼š2åï¼ˆæ­£ç¤¾å“¡ã€é€±30æ™‚é–“ä»¥ä¸Šå‹¤å‹™ï¼‰
- ãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆï¼š3åï¼ˆé€±30æ™‚é–“æœªæº€ï¼‰

**ä¸»ãªæ¥­å‹™:**
- èª¿ç†ï¼šç§ï¼ˆã‚ªãƒ¼ãƒŠãƒ¼ã‚·ã‚§ãƒ•ï¼‰ãŠã‚ˆã³èª¿ç†ã‚¹ã‚¿ãƒƒãƒ•1å
- ãƒ›ãƒ¼ãƒ«ï¼šæ­£ç¤¾å“¡1åã€ãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆ3å

**ç¾åœ¨ã®èª²é¡Œ:**
- èªçŸ¥åº¦ãŒä½ãã€æ–°è¦é¡§å®¢ã®ç²å¾—ãŒèª²é¡Œï¼ˆæ¥å®¢ã®7å‰²ãŒæ—¢å­˜å®¢ï¼‰
- å…¬å¼ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒãªãã€SNSã®ã¿ã§æƒ…å ±ç™ºä¿¡ï¼ˆäºˆç´„ã¯é›»è©±ã®ã¿å¯¾å¿œï¼‰
- ãƒ†ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆãƒ»ãƒ‡ãƒªãƒãƒªãƒ¼ã«æœªå¯¾å¿œï¼ˆã‚³ãƒ­ãƒŠç¦ã§éœ€è¦å¢—åŠ ã‚‚å¯¾å¿œã§ããšï¼‰
- ã‚ªãƒ¼ãƒ–ãƒ³ãŒ1å°ã®ã¿ã§ã€ãƒ”ãƒ¼ã‚¯æ™‚ã®å¯¾å¿œã«é™ç•Œ
```

**æ–‡å­—æ•°**: ç®‡æ¡æ›¸ãå½¢å¼ã€ç´„200æ–‡å­—

---

## æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã®æ´»ç”¨

### Q1-7ï¼ˆè£œåŠ©é‡‘ã®ç›®çš„ï¼‰ã‹ã‚‰æ´»ç”¨ã§ãã‚‹ãƒ‡ãƒ¼ã‚¿

Q1-7ã§é¸æŠã•ã‚ŒãŸèª²é¡Œã¯ã€ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ã€Œç¾åœ¨ã®èª²é¡Œã€ã«è‡ªå‹•çš„ã«åæ˜ ã•ã‚Œã‚‹ã€‚

**Q1-7ã®é¸æŠè‚¢:**
```javascript
[
  'æ–°è¦é¡§å®¢ã®ç²å¾—',
  'æ—¢å­˜é¡§å®¢ã®ãƒªãƒ”ãƒ¼ãƒˆç‡å‘ä¸Š',
  'å®¢å˜ä¾¡ã®å‘ä¸Š',
  'æ¥­å‹™åŠ¹ç‡åŒ–ãƒ»ç”Ÿç”£æ€§å‘ä¸Š',
  'è¨­å‚™ãƒ»æ©Ÿæ¢°ã®è€æœ½åŒ–å¯¾å¿œ',
  'ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾å¿œï¼ˆECã‚µã‚¤ãƒˆã€äºˆç´„ã‚·ã‚¹ãƒ†ãƒ ç­‰ï¼‰',
  'ãã®ä»–'
]
```

ã“ã‚Œã‚‰ã®é¸æŠè‚¢ã‚’ã€Œç¾åœ¨ã®èª²é¡Œã€ã¨ã—ã¦è‡ªå‹•çš„ã«å«ã‚ã‚‹ã€‚

---

## è³ªå•ãƒ•ãƒ­ãƒ¼

### Q1-NEW-13: å¾“æ¥­å“¡æ•°ï¼ˆå¸¸æ™‚é›‡ç”¨ï¼‰

**è³ªå•æ–‡:**
```
å¸¸æ™‚é›‡ç”¨ã®å¾“æ¥­å“¡æ•°ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚

ğŸ’¡ å¸¸æ™‚é›‡ç”¨ = é€±30æ™‚é–“ä»¥ä¸Šå‹¤å‹™ã™ã‚‹å¾“æ¥­å“¡ï¼ˆæ­£ç¤¾å“¡ã€å¥‘ç´„ç¤¾å“¡ç­‰ï¼‰
â€»çµŒå–¶è€…æœ¬äººã¯å«ã‚ã¾ã›ã‚“

æ•°å­—ã®ã¿ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚ã„ãªã„å ´åˆã¯ã€Œ0ã€ã‚’å…¥åŠ›ã€‚
```

**å…¥åŠ›ã‚¿ã‚¤ãƒ—**: `number`

**placeholder**: "ä¾‹: 2"

**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: å¿…é ˆï¼ˆ0ä»¥ä¸Šã®æ•´æ•°ï¼‰

**ä¾å­˜é–¢ä¿‚**: Q1-NEW-12ï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³1-3ã®æœ€å¾Œã®è³ªå•ï¼‰

---

### Q1-NEW-14: å¾“æ¥­å“¡æ•°ï¼ˆãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆï¼‰

**è³ªå•æ–‡:**
```
ãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆã®å¾“æ¥­å“¡æ•°ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚

ğŸ’¡ ãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆ = é€±30æ™‚é–“æœªæº€ã®å¾“æ¥­å“¡

æ•°å­—ã®ã¿ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚ã„ãªã„å ´åˆã¯ã€Œ0ã€ã‚’å…¥åŠ›ã€‚
```

**å…¥åŠ›ã‚¿ã‚¤ãƒ—**: `number`

**placeholder**: "ä¾‹: 3"

**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: å¿…é ˆï¼ˆ0ä»¥ä¸Šã®æ•´æ•°ï¼‰

**ä¾å­˜é–¢ä¿‚**: Q1-NEW-13

**å‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆå›ç­”å¾Œï¼‰:**
```javascript
if (questionId === 'Q1-NEW-14') {
  const fullTimeEmployees = answers['Q1-NEW-13'];
  const partTimeEmployees = answer;
  const totalEmployees = fullTimeEmployees + partTimeEmployees;

  await saveAnswer(questionId, answer, 0);
  await saveAnswer('Q1-NEW-14-total', totalEmployees, 0);

  addAIMessage(`âœ… å¾“æ¥­å“¡æ•°ã‚’ç¢ºèªã—ã¾ã—ãŸ\nğŸ“Š å¸¸æ™‚é›‡ç”¨: ${fullTimeEmployees}åã€ãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆ: ${partTimeEmployees}å\nğŸ“Š åˆè¨ˆ: ${totalEmployees}å`);
}
```

---

### Q1-NEW-15: ä¸»ãªæ¥­å‹™å†…å®¹

**è³ªå•æ–‡:**
```
çµŒå–¶è€…ï¼ˆã‚ãªãŸï¼‰ãŠã‚ˆã³å¾“æ¥­å“¡ãŒæ‹…å½“ã—ã¦ã„ã‚‹ä¸»ãªæ¥­å‹™ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚

ä¾‹:
- é£²é£Ÿæ¥­: èª¿ç†ã€ãƒ›ãƒ¼ãƒ«ã€ä»•è¾¼ã¿ç­‰
- å°å£²æ¥­: æ¥å®¢è²©å£²ã€å•†å“ç®¡ç†ã€ä»•å…¥ã‚Œç­‰
- ç¾å®¹å®¤: ã‚«ãƒƒãƒˆã€ã‚«ãƒ©ãƒ¼ã€å—ä»˜ç­‰
- ã‚ªãƒ³ãƒ©ã‚¤ãƒ³: å•†å“ä¼ç”»ã€å—æ³¨å‡¦ç†ã€ç™ºé€ã€ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆç­‰

è¤‡æ•°ã®æ¥­å‹™ãŒã‚ã‚‹å ´åˆã¯ã€ç®‡æ¡æ›¸ãã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
```

**å…¥åŠ›ã‚¿ã‚¤ãƒ—**: `textarea`

**placeholder**ï¼ˆæ¥­ç¨®åˆ¥ã«å‹•çš„å¤‰æ›´ï¼‰:
```javascript
const placeholders = {
  'ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³': 'ä¾‹:\n- èª¿ç†: ç§ï¼ˆã‚ªãƒ¼ãƒŠãƒ¼ã‚·ã‚§ãƒ•ï¼‰ãŠã‚ˆã³èª¿ç†ã‚¹ã‚¿ãƒƒãƒ•1å\n- ãƒ›ãƒ¼ãƒ«: æ­£ç¤¾å“¡1åã€ãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆ3å',
  'ã‚«ãƒ•ã‚§': 'ä¾‹:\n- èª¿ç†ãƒ»ãƒ‰ãƒªãƒ³ã‚¯ä½œæˆ: ç§ãŠã‚ˆã³ã‚¹ã‚¿ãƒƒãƒ•2å\n- æ¥å®¢ãƒ»ãƒ¬ã‚¸: ãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆ2å',
  'ç¾å®¹å®¤': 'ä¾‹:\n- ã‚«ãƒƒãƒˆãƒ»ã‚«ãƒ©ãƒ¼: ç§ï¼ˆã‚¹ã‚¿ã‚¤ãƒªã‚¹ãƒˆï¼‰\n- ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆæ¥­å‹™: ã‚¹ã‚¿ãƒƒãƒ•2å\n- å—ä»˜: ãƒ‘ãƒ¼ãƒˆ1å',
  'ã‚¢ãƒ‘ãƒ¬ãƒ«': 'ä¾‹:\n- æ¥å®¢è²©å£²: ç§ãŠã‚ˆã³ã‚¹ã‚¿ãƒƒãƒ•2å\n- å•†å“ç®¡ç†ãƒ»ç™ºæ³¨: ç§\n- SNSç™ºä¿¡: ã‚¹ã‚¿ãƒƒãƒ•1å',
  'å°å£²åº—': 'ä¾‹:\n- æ¥å®¢è²©å£²: ç§ãŠã‚ˆã³ã‚¹ã‚¿ãƒƒãƒ•2å\n- å•†å“ç®¡ç†ãƒ»ä»•å…¥ã‚Œ: ç§\n- ãƒ¬ã‚¸ãƒ»æ¸…æƒ: ãƒ‘ãƒ¼ãƒˆ2å',
  'ã‚ªãƒ³ãƒ©ã‚¤ãƒ³': 'ä¾‹:\n- å•†å“ä¼ç”»ãƒ»ä»•å…¥ã‚Œ: ç§\n- å—æ³¨å‡¦ç†ãƒ»ç™ºé€: ã‚¹ã‚¿ãƒƒãƒ•1åã€ãƒ‘ãƒ¼ãƒˆ1å\n- ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆ: ç§ãŠã‚ˆã³ã‚¹ã‚¿ãƒƒãƒ•1å'
};

const businessType = answers['Q1-1'];
return placeholders[businessType] || 'ä¾‹:\n- æ¥­å‹™1: æ‹…å½“è€…\n- æ¥­å‹™2: æ‹…å½“è€…';
```

**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: å¿…é ˆï¼ˆ10æ–‡å­—ä»¥ä¸Šï¼‰

**ä¾å­˜é–¢ä¿‚**: Q1-NEW-14

---

### Q1-NEW-16: ç¾åœ¨ã®èª²é¡Œï¼ˆQ1-7ã®é¸æŠã‚’ç¢ºèªï¼‰

**è³ªå•æ–‡ï¼ˆå‹•çš„ç”Ÿæˆï¼‰:**
```javascript
const generateQ1NEW16Text = (answers) => {
  const subsidyPurpose = answers['Q1-7']; // é…åˆ—

  let text = 'ç¾åœ¨ã®çµŒå–¶ä¸Šã®èª²é¡Œã‚’ç¢ºèªã—ã¾ã™ã€‚\n\n';
  text += 'ã€è£œåŠ©é‡‘ã®ç›®çš„ã¨ã—ã¦é¸æŠã•ã‚ŒãŸèª²é¡Œã€‘\n';

  subsidyPurpose.forEach((purpose, index) => {
    text += `${index + 1}. ${purpose}\n`;
  });

  text += '\nã“ã‚Œã‚‰ã®èª²é¡Œã«ã¤ã„ã¦ã€ã‚‚ã†å°‘ã—å…·ä½“çš„ã«èª¬æ˜ã—ã¦ãã ã•ã„ã€‚\n\n';
  text += 'ä¾‹:\n';
  text += '- èªçŸ¥åº¦ãŒä½ãã€æ–°è¦é¡§å®¢ã®ç²å¾—ãŒèª²é¡Œï¼ˆæ¥å®¢ã®7å‰²ãŒæ—¢å­˜å®¢ï¼‰\n';
  text += '- å…¬å¼ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒãªãã€SNSã®ã¿ã§æƒ…å ±ç™ºä¿¡ï¼ˆäºˆç´„ã¯é›»è©±ã®ã¿å¯¾å¿œï¼‰\n';
  text += '- ã‚ªãƒ¼ãƒ–ãƒ³ãŒ1å°ã®ã¿ã§ã€ãƒ”ãƒ¼ã‚¯æ™‚ã®å¯¾å¿œã«é™ç•Œ';

  return text;
};
```

**è¡¨ç¤ºä¾‹:**
```
ç¾åœ¨ã®çµŒå–¶ä¸Šã®èª²é¡Œã‚’ç¢ºèªã—ã¾ã™ã€‚

ã€è£œåŠ©é‡‘ã®ç›®çš„ã¨ã—ã¦é¸æŠã•ã‚ŒãŸèª²é¡Œã€‘
1. æ–°è¦é¡§å®¢ã®ç²å¾—
2. ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾å¿œï¼ˆECã‚µã‚¤ãƒˆã€äºˆç´„ã‚·ã‚¹ãƒ†ãƒ ç­‰ï¼‰
3. è¨­å‚™ãƒ»æ©Ÿæ¢°ã®è€æœ½åŒ–å¯¾å¿œ

ã“ã‚Œã‚‰ã®èª²é¡Œã«ã¤ã„ã¦ã€ã‚‚ã†å°‘ã—å…·ä½“çš„ã«èª¬æ˜ã—ã¦ãã ã•ã„ã€‚

ä¾‹:
- èªçŸ¥åº¦ãŒä½ãã€æ–°è¦é¡§å®¢ã®ç²å¾—ãŒèª²é¡Œï¼ˆæ¥å®¢ã®7å‰²ãŒæ—¢å­˜å®¢ï¼‰
- å…¬å¼ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒãªãã€SNSã®ã¿ã§æƒ…å ±ç™ºä¿¡ï¼ˆäºˆç´„ã¯é›»è©±ã®ã¿å¯¾å¿œï¼‰
- ã‚ªãƒ¼ãƒ–ãƒ³ãŒ1å°ã®ã¿ã§ã€ãƒ”ãƒ¼ã‚¯æ™‚ã®å¯¾å¿œã«é™ç•Œ
```

**å…¥åŠ›ã‚¿ã‚¤ãƒ—**: `textarea`

**placeholder**: "ç®‡æ¡æ›¸ãã§å…·ä½“çš„ã«è¨˜è¼‰ã—ã¦ãã ã•ã„"

**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: å¿…é ˆï¼ˆ30æ–‡å­—ä»¥ä¸Šï¼‰

**ä¾å­˜é–¢ä¿‚**: Q1-NEW-15

---

### Q1-NEW-17: ãã®ä»–ã®èª²é¡Œï¼ˆä»»æ„ï¼‰

**è³ªå•æ–‡:**
```
ä¸Šè¨˜ä»¥å¤–ã«ã€çµŒå–¶ä¸Šã®èª²é¡Œã‚„è¨­å‚™ã®å•é¡ŒãŒã‚ã‚Œã°æ•™ãˆã¦ãã ã•ã„ã€‚ï¼ˆä»»æ„ï¼‰

ä¾‹:
- äººæ‰‹ä¸è¶³ã§å–¶æ¥­æ™‚é–“ã‚’å»¶é•·ã§ããªã„
- åº—èˆ—ãŒç‹­ãã€ãƒ”ãƒ¼ã‚¯æ™‚ã«å¾…ã¡æ™‚é–“ãŒç™ºç”Ÿ
- é§è»Šå ´ãŒãªãã€è»Šã§ã®æ¥åº—ãŒé›£ã—ã„

ç‰¹ã«ãªã‘ã‚Œã°ã€Œæ¬¡ã¸ã€ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚
```

**å…¥åŠ›ã‚¿ã‚¤ãƒ—**: `textarea`

**placeholder**: "ç‰¹ã«ãªã‘ã‚Œã°ç©ºæ¬„ã®ã¾ã¾ã€Œæ¬¡ã¸ã€"

**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: ä»»æ„ï¼ˆã‚¹ã‚­ãƒƒãƒ—å¯èƒ½ï¼‰

**ä¾å­˜é–¢ä¿‚**: Q1-NEW-16

---

## è³ªå•å®Œäº†å¾Œã®å‡¦ç†

### Q1-SECTION1-COMPLETEï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³1å…¨ä½“å®Œäº†ï¼‰

**è¡¨ç¤ºå†…å®¹:**
```
âœ… ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼

ã‚»ã‚¯ã‚·ãƒ§ãƒ³1ã€Œä¼æ¥­æ¦‚è¦ã€ã®è³ªå•ãŒå…¨ã¦å®Œäº†ã—ã¾ã—ãŸã€‚

ã“ã‚Œã¾ã§ã®å›ç­”ã‚’ã‚‚ã¨ã«ã€æ§˜å¼2ã®ã€Œä¼æ¥­æ¦‚è¦ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¾ã™ã€‚
å°‘ã€…ãŠå¾…ã¡ãã ã•ã„...

ğŸ¤– AI ãŒæ–‡ç« ã‚’ç”Ÿæˆä¸­...
```

**å‡¦ç†:**
1. Cloud Function `generateSection1AllDraft` ã‚’å‘¼ã³å‡ºã—
2. ã‚»ã‚¯ã‚·ãƒ§ãƒ³1-1ã€œ1-4ã®å…¨ã¦ã®å›ç­”ã‚’å…ƒã«ã€æ§˜å¼2ã€Œ1. ä¼æ¥­æ¦‚è¦ã€ã‚’ç”Ÿæˆ
3. ã§ã‚ã‚‹èª¿ï¼ˆå¸¸ä½“ï¼‰ã§è¨˜è¿°
4. 800-1200æ–‡å­—ç¨‹åº¦ï¼ˆA4ç”¨ç´™1-2ãƒšãƒ¼ã‚¸ç›¸å½“ï¼‰

---

## æ§˜å¼2ã¸ã®æ–‡ç« ç”Ÿæˆï¼ˆCloud Functionï¼‰

### generateSection1AllDraftï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³1å…¨ä½“ã®ç”Ÿæˆï¼‰

```javascript
exports.generateSection1AllDraft = functions
  .region('asia-northeast1')
  .https.onCall(async (data, context) => {
    const { answers } = data;

    // ã‚»ã‚¯ã‚·ãƒ§ãƒ³1-1: äº‹æ¥­ã®æ¦‚è¦
    const section1_1 = generateSection1_1(answers);

    // ã‚»ã‚¯ã‚·ãƒ§ãƒ³1-2: å£²ä¸Šé«˜ãƒ»åˆ©ç›Šã®æ¨ç§»
    const section1_2 = generateSection1_2(answers);

    // ã‚»ã‚¯ã‚·ãƒ§ãƒ³1-3: ç«‹åœ°ã¨å•†åœ
    const section1_3 = generateSection1_3(answers);

    // ã‚»ã‚¯ã‚·ãƒ§ãƒ³1-4: æ¥­å‹™çŠ¶æ³ã¨èª²é¡Œ
    const section1_4 = generateSection1_4(answers);

    // å…¨ä½“ã‚’ã¾ã¨ã‚ã¦æ§˜å¼2å½¢å¼ã§ç”Ÿæˆ
    const fullText = `### 1. ä¼æ¥­æ¦‚è¦

#### ï¼ˆ1ï¼‰äº‹æ¥­ã®æ¦‚è¦

${section1_1}

#### ï¼ˆ2ï¼‰äº‹æ¥­åˆ¥å£²ä¸Šé«˜ãƒ»åˆ©ç›Šã®æ¨ç§»

${section1_2}

#### ï¼ˆ3ï¼‰ç«‹åœ°ã¨å•†åœ

${section1_3}

#### ï¼ˆ4ï¼‰æ¥­å‹™çŠ¶æ³ã¨èª²é¡Œ

${section1_4}`;

    return {
      draft: fullText,
      sections: {
        section1_1,
        section1_2,
        section1_3,
        section1_4
      },
      pointsUsed: 30,
      remainingPoints: currentPoints - 30
    };
  });
```

### generateSection1_4ï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³1-4ã®ç”Ÿæˆï¼‰

```javascript
const generateSection1_4 = (answers) => {
  const fullTimeEmployees = answers['Q1-NEW-13'];
  const partTimeEmployees = answers['Q1-NEW-14'];
  const businessDetails = answers['Q1-NEW-15'];
  const challenges = answers['Q1-NEW-16'];
  const otherChallenges = answers['Q1-NEW-17'];

  let text = '**å¾“æ¥­å“¡æ•°:**\n';
  text += `- å¸¸æ™‚é›‡ç”¨å¾“æ¥­å“¡ï¼š${fullTimeEmployees}åï¼ˆæ­£ç¤¾å“¡ã€é€±30æ™‚é–“ä»¥ä¸Šå‹¤å‹™ï¼‰\n`;
  text += `- ãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆï¼š${partTimeEmployees}åï¼ˆé€±30æ™‚é–“æœªæº€ï¼‰\n\n`;

  text += '**ä¸»ãªæ¥­å‹™:**\n';
  text += businessDetails + '\n\n';

  text += '**ç¾åœ¨ã®èª²é¡Œ:**\n';
  text += challenges;

  if (otherChallenges) {
    text += '\n' + otherChallenges;
  }

  return text;
};
```

### ç”Ÿæˆä¾‹

**å…¥åŠ›ãƒ‡ãƒ¼ã‚¿:**
```javascript
{
  'Q1-NEW-13': 2,
  'Q1-NEW-14': 3,
  'Q1-NEW-15': '- èª¿ç†ï¼šç§ï¼ˆã‚ªãƒ¼ãƒŠãƒ¼ã‚·ã‚§ãƒ•ï¼‰ãŠã‚ˆã³èª¿ç†ã‚¹ã‚¿ãƒƒãƒ•1å\n- ãƒ›ãƒ¼ãƒ«ï¼šæ­£ç¤¾å“¡1åã€ãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆ3å',
  'Q1-NEW-16': '- èªçŸ¥åº¦ãŒä½ãã€æ–°è¦é¡§å®¢ã®ç²å¾—ãŒèª²é¡Œï¼ˆæ¥å®¢ã®7å‰²ãŒæ—¢å­˜å®¢ï¼‰\n- å…¬å¼ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒãªãã€SNSã®ã¿ã§æƒ…å ±ç™ºä¿¡ï¼ˆäºˆç´„ã¯é›»è©±ã®ã¿å¯¾å¿œï¼‰\n- ãƒ†ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆãƒ»ãƒ‡ãƒªãƒãƒªãƒ¼ã«æœªå¯¾å¿œï¼ˆã‚³ãƒ­ãƒŠç¦ã§éœ€è¦å¢—åŠ ã‚‚å¯¾å¿œã§ããšï¼‰',
  'Q1-NEW-17': '- ã‚ªãƒ¼ãƒ–ãƒ³ãŒ1å°ã®ã¿ã§ã€ãƒ”ãƒ¼ã‚¯æ™‚ã®å¯¾å¿œã«é™ç•Œ'
}
```

**ç”Ÿæˆã•ã‚Œã‚‹æ–‡ç« :**
```
**å¾“æ¥­å“¡æ•°:**
- å¸¸æ™‚é›‡ç”¨å¾“æ¥­å“¡ï¼š2åï¼ˆæ­£ç¤¾å“¡ã€é€±30æ™‚é–“ä»¥ä¸Šå‹¤å‹™ï¼‰
- ãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆï¼š3åï¼ˆé€±30æ™‚é–“æœªæº€ï¼‰

**ä¸»ãªæ¥­å‹™:**
- èª¿ç†ï¼šç§ï¼ˆã‚ªãƒ¼ãƒŠãƒ¼ã‚·ã‚§ãƒ•ï¼‰ãŠã‚ˆã³èª¿ç†ã‚¹ã‚¿ãƒƒãƒ•1å
- ãƒ›ãƒ¼ãƒ«ï¼šæ­£ç¤¾å“¡1åã€ãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆ3å

**ç¾åœ¨ã®èª²é¡Œ:**
- èªçŸ¥åº¦ãŒä½ãã€æ–°è¦é¡§å®¢ã®ç²å¾—ãŒèª²é¡Œï¼ˆæ¥å®¢ã®7å‰²ãŒæ—¢å­˜å®¢ï¼‰
- å…¬å¼ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒãªãã€SNSã®ã¿ã§æƒ…å ±ç™ºä¿¡ï¼ˆäºˆç´„ã¯é›»è©±ã®ã¿å¯¾å¿œï¼‰
- ãƒ†ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆãƒ»ãƒ‡ãƒªãƒãƒªãƒ¼ã«æœªå¯¾å¿œï¼ˆã‚³ãƒ­ãƒŠç¦ã§éœ€è¦å¢—åŠ ã‚‚å¯¾å¿œã§ããšï¼‰
- ã‚ªãƒ¼ãƒ–ãƒ³ãŒ1å°ã®ã¿ã§ã€ãƒ”ãƒ¼ã‚¯æ™‚ã®å¯¾å¿œã«é™ç•Œ
```

---

## æ–‡ç« ç”Ÿæˆå®Œäº†å¾Œã®ãƒ•ãƒ­ãƒ¼

### Q1-SECTION1-REVIEWï¼ˆæ§˜å¼2ã‚»ã‚¯ã‚·ãƒ§ãƒ³1ã®ç¢ºèªï¼‰

**è¡¨ç¤ºå†…å®¹:**
```
ğŸ“„ æ§˜å¼2ã€Œ1. ä¼æ¥­æ¦‚è¦ã€

ä»¥ä¸‹ã®æ–‡ç« ã§å•é¡Œãªã‘ã‚Œã°ã€Œç¢ºå®šã€ã€ä¿®æ­£ã—ãŸã„å ´åˆã¯ã€Œç·¨é›†ã€ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

### 1. ä¼æ¥­æ¦‚è¦

#### ï¼ˆ1ï¼‰äº‹æ¥­ã®æ¦‚è¦

å½“åº—ã€Œãƒˆãƒ©ãƒƒãƒˆãƒªã‚¢ãƒ»ãƒ™ãƒƒãƒ©ã€ã¯ã€2019å¹´5æœˆã«æ±äº¬éƒ½ä¸–ç”°è°·åŒºä¸‰è»’èŒ¶å±‹ã«ã¦é–‹æ¥­ã—ãŸã‚¤ã‚¿ãƒªã‚¢ãƒ³ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã§ã™ã€‚æœ¬æ ¼çš„ãªã‚¤ã‚¿ãƒªã‚¢æ–™ç†ã‚’æ‰‹é ƒãªä¾¡æ ¼ã§æä¾›ã™ã‚‹ã“ã¨ã‚’ã‚³ãƒ³ã‚»ãƒ—ãƒˆã«ã€åœ°åŸŸã®ãŠå®¢æ§˜ã‚’ä¸­å¿ƒã«å–¶æ¥­ã—ã¦ã„ã¾ã™ã€‚

[ä»¥ä¸‹ã€ç”Ÿæˆã•ã‚ŒãŸæ–‡ç« å…¨ä½“ã‚’è¡¨ç¤º]

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… ç¢ºå®š | âœï¸ ç·¨é›†
```

**å…¥åŠ›ã‚¿ã‚¤ãƒ—**: `single_select`

**é¸æŠè‚¢:**
```javascript
['confirm', 'edit']
```

**æ¡ä»¶åˆ†å²:**
- ã€Œconfirmã€â†’ Phase 2ã¸é€²ã‚€
- ã€Œeditã€â†’ Q1-SECTION1-EDITï¼ˆç·¨é›†ç”»é¢ï¼‰ã¸

---

### Q1-SECTION1-EDITï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³1ã®ç·¨é›†ï¼‰â† æ¡ä»¶ä»˜ã

**è¡¨ç¤ºå†…å®¹:**
```
æ§˜å¼2ã€Œ1. ä¼æ¥­æ¦‚è¦ã€ã‚’ç·¨é›†ã—ã¦ãã ã•ã„ã€‚

ç·¨é›†ãŒå®Œäº†ã—ãŸã‚‰ã€Œä¿å­˜ã€ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚
```

**å…¥åŠ›ã‚¿ã‚¤ãƒ—**: `textarea`

**defaultValue**: ç”Ÿæˆã•ã‚ŒãŸæ–‡ç« å…¨ä½“

**rows**: 20ï¼ˆå¤§ããªãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ï¼‰

**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: å¿…é ˆï¼ˆ100æ–‡å­—ä»¥ä¸Šï¼‰

**å‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆå›ç­”å¾Œï¼‰:**
```javascript
if (questionId === 'Q1-SECTION1-EDIT') {
  const editedText = answer;

  await saveAnswer('Q1-SECTION1-FINAL', editedText, 0);
  await saveAnswer('Q1-SECTION1-CONFIRM', 'yes', 0);

  addAIMessage('âœ… æ§˜å¼2ã€Œ1. ä¼æ¥­æ¦‚è¦ã€ã‚’ä¿å­˜ã—ã¾ã—ãŸï¼');
  addAIMessage('æ¬¡ã¯ã€Phase 2ã€Œé¡§å®¢ãƒ‹ãƒ¼ã‚ºã¨å¸‚å ´ã®å‹•å‘ã€ã«é€²ã¿ã¾ã™ã€‚');

  // Phase 2ã¸é€²ã‚€
  moveToPhase(2);
}
```

---

## ãƒ‡ãƒ¼ã‚¿ä¿å­˜å½¢å¼

```javascript
answers = {
  // ã‚»ã‚¯ã‚·ãƒ§ãƒ³1-4ã®è³ªå•å›ç­”
  'Q1-NEW-13': 2, // å¸¸æ™‚é›‡ç”¨å¾“æ¥­å“¡æ•°
  'Q1-NEW-14': 3, // ãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆæ•°
  'Q1-NEW-14-total': 5, // åˆè¨ˆå¾“æ¥­å“¡æ•°ï¼ˆè‡ªå‹•è¨ˆç®—ï¼‰
  'Q1-NEW-15': '- èª¿ç†ï¼šç§ï¼ˆã‚ªãƒ¼ãƒŠãƒ¼ã‚·ã‚§ãƒ•ï¼‰ãŠã‚ˆã³èª¿ç†ã‚¹ã‚¿ãƒƒãƒ•1å\n- ãƒ›ãƒ¼ãƒ«ï¼šæ­£ç¤¾å“¡1åã€ãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆ3å',
  'Q1-NEW-16': '- èªçŸ¥åº¦ãŒä½ãã€æ–°è¦é¡§å®¢ã®ç²å¾—ãŒèª²é¡Œï¼ˆæ¥å®¢ã®7å‰²ãŒæ—¢å­˜å®¢ï¼‰\n- å…¬å¼ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒãªãã€SNSã®ã¿ã§æƒ…å ±ç™ºä¿¡ï¼ˆäºˆç´„ã¯é›»è©±ã®ã¿å¯¾å¿œï¼‰',
  'Q1-NEW-17': '- ã‚ªãƒ¼ãƒ–ãƒ³ãŒ1å°ã®ã¿ã§ã€ãƒ”ãƒ¼ã‚¯æ™‚ã®å¯¾å¿œã«é™ç•Œ',

  // ã‚»ã‚¯ã‚·ãƒ§ãƒ³1å…¨ä½“ã®ç”Ÿæˆçµæœ
  'Q1-SECTION1-DRAFT': 'ã€ç”Ÿæˆã•ã‚ŒãŸæ§˜å¼2ã‚»ã‚¯ã‚·ãƒ§ãƒ³1ã®å…¨æ–‡ã€‘',
  'Q1-SECTION1-REVIEW': 'confirm', // ã¾ãŸã¯ 'edit'
  'Q1-SECTION1-EDIT': 'ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç·¨é›†ã—ãŸæ–‡ç« ã€‘', // editã®å ´åˆã®ã¿
  'Q1-SECTION1-FINAL': 'ã€æœ€çµ‚ç¢ºå®šã•ã‚ŒãŸæ–‡ç« ã€‘',
  'Q1-SECTION1-CONFIRM': 'yes'
}
```

---

## è³ªå•æ•°ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼è² æ‹…

**ã‚»ã‚¯ã‚·ãƒ§ãƒ³1-4ã®è³ªå•æ•°**: 5å•ï¼ˆQ1-NEW-13 ã€œ Q1-NEW-17ï¼‰

**æ¡ä»¶ä»˜ãè³ªå•**:
- Q1-SECTION1-EDIT: ã€Œç·¨é›†ã€é¸æŠæ™‚ã®ã¿

---

## ã‚»ã‚¯ã‚·ãƒ§ãƒ³1å…¨ä½“ã®ã¾ã¨ã‚

### è³ªå•æ•°ã®åˆè¨ˆ

| ã‚»ã‚¯ã‚·ãƒ§ãƒ³ | è³ªå•æ•° | å‚™è€ƒ |
|----------|-------|------|
| 1-1: äº‹æ¥­ã®æ¦‚è¦ | 16å• | æ³•äºº/å€‹äººã€æ¥­ç¨®ã€ã‚³ãƒ³ã‚»ãƒ—ãƒˆç­‰ |
| 1-2: å£²ä¸Šé«˜ãƒ»åˆ©ç›Šã®æ¨ç§» | 7-9å• | å¹´é–“å£²ä¸Šã€åˆ©ç›Šã€å®¢å˜ä¾¡ç­‰ |
| 1-3: ç«‹åœ°ã¨å•†åœ | 4-8å• | æœ€å¯„ã‚Šé§…ã€å‘¨è¾ºç’°å¢ƒã€ç«¶åˆç­‰ |
| 1-4: æ¥­å‹™çŠ¶æ³ã¨èª²é¡Œ | 5å• | å¾“æ¥­å“¡æ•°ã€æ¥­å‹™å†…å®¹ã€èª²é¡Œ |
| **åˆè¨ˆ** | **32-38å•** | æ¡ä»¶åˆ†å²ã«ã‚ˆã‚Šå¤‰å‹• |

### æ–‡ç« ç”Ÿæˆå¾Œã®ãƒ•ãƒ­ãƒ¼

1. **Q1-SECTION1-COMPLETE**: ã‚»ã‚¯ã‚·ãƒ§ãƒ³1å…¨ä½“ã®å®Œäº†
2. **AIæ–‡ç« ç”Ÿæˆ**: Cloud Functionå‘¼ã³å‡ºã—
3. **Q1-SECTION1-REVIEW**: ç”Ÿæˆã•ã‚ŒãŸæ–‡ç« ã®ç¢ºèª
4. **Q1-SECTION1-EDIT**ï¼ˆæ¡ä»¶ä»˜ãï¼‰: æ–‡ç« ã®ç·¨é›†
5. **Phase 2ã¸é€²ã‚€**: æ§˜å¼2ã€Œ2. é¡§å®¢ãƒ‹ãƒ¼ã‚ºã¨å¸‚å ´ã®å‹•å‘ã€

---

## å®Ÿè£…æ™‚ã®æ³¨æ„äº‹é …

1. **å¾“æ¥­å“¡æ•°ã®åˆè¨ˆè¨ˆç®—**:
   - Q1-NEW-14ã®å›ç­”æ™‚ã«è‡ªå‹•è¨ˆç®—ã—ã¦ä¿å­˜
   - å°è¦æ¨¡äº‹æ¥­è€…ã®å®šç¾©ãƒã‚§ãƒƒã‚¯ï¼ˆæ¥­ç¨®åˆ¥ã«ä¸Šé™ã‚ã‚Šï¼‰

2. **Q1-7ã®æ´»ç”¨**:
   - è£œåŠ©é‡‘ã®ç›®çš„ã¨ã—ã¦é¸æŠã•ã‚ŒãŸèª²é¡Œã‚’è‡ªå‹•çš„ã«ã€Œç¾åœ¨ã®èª²é¡Œã€ã«å«ã‚ã‚‹
   - Q1-NEW-16ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å…·ä½“çš„ãªèª¬æ˜ã‚’æ±‚ã‚ã‚‹

3. **æ¥­ç¨®åˆ¥placeholderã®å‹•çš„å¤‰æ›´**:
   - Q1-1ã§é¸æŠã—ãŸæ¥­ç¨®ã«å¿œã˜ã¦ã€Q1-NEW-15ã®placeholderã‚’å¤‰æ›´
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›ã—ã‚„ã™ã„ã‚ˆã†ã«é…æ…®

4. **æ–‡ç« ç”Ÿæˆã®å“è³ª**:
   - ã§ã‚ã‚‹èª¿ï¼ˆå¸¸ä½“ï¼‰ã§çµ±ä¸€
   - ç®‡æ¡æ›¸ãã¨æ®µè½ã‚’é©åˆ‡ã«çµ„ã¿åˆã‚ã›ã‚‹
   - 800-1200æ–‡å­—ç¨‹åº¦ï¼ˆA4ç”¨ç´™1-2ãƒšãƒ¼ã‚¸ç›¸å½“ï¼‰

5. **ã‚»ã‚¯ã‚·ãƒ§ãƒ³å˜ä½ã®ä¿å­˜**:
   - ã‚»ã‚¯ã‚·ãƒ§ãƒ³1-1ã€œ1-4ã‚’å€‹åˆ¥ã«ä¿å­˜
   - å…¨ä½“ã‚’ã¾ã¨ã‚ãŸæ–‡ç« ã‚‚ä¿å­˜
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå¾Œã‹ã‚‰å€‹åˆ¥ã«ä¿®æ­£ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹

---

## Phase 2ã¸ã®æ¥ç¶š

ã‚»ã‚¯ã‚·ãƒ§ãƒ³1ãŒå®Œäº†ã—ãŸã‚‰ã€Phase 2ã€Œé¡§å®¢ãƒ‹ãƒ¼ã‚ºã¨å¸‚å ´ã®å‹•å‘ã€ã«é€²ã‚€ã€‚

**Phase 2ã®æ¦‚è¦:**
- AIè‡ªå¾‹è³ªå•ç”Ÿæˆï¼ˆæ¥­ç¨®åˆ¥ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼‰
- ä¸€å•ä¸€ç­”å½¢å¼
- å„ªå…ˆåº¦ï¼ˆhigh/medium/lowï¼‰ã«åŸºã¥ãè³ªå•é †åº
- æ§˜å¼2ã€Œ2. é¡§å®¢ãƒ‹ãƒ¼ã‚ºã¨å¸‚å ´ã®å‹•å‘ã€ã‚’ç”Ÿæˆ

**ç§»è¡Œå‡¦ç†:**
```javascript
// ChatContainer.jsx
const moveToPhase = async (phaseNumber) => {
  setCurrentPhase(phaseNumber);

  if (phaseNumber === 2) {
    addAIMessage('Phase 1ãŒå®Œäº†ã—ã¾ã—ãŸï¼\n\næ¬¡ã¯ã€Phase 2ã€Œé¡§å®¢ãƒ‹ãƒ¼ã‚ºã¨å¸‚å ´ã®å‹•å‘ã€ã«é€²ã¿ã¾ã™ã€‚');

    // Phase 2ã®æœ€åˆã®è³ªå•ã‚’é–‹å§‹
    const phase2Manager = new ConversationalPhase2Manager(
      answers['Q1-1'], // æ¥­ç¨®
      answers
    );

    const firstQuestion = await phase2Manager.getNextQuestion();
    if (firstQuestion) {
      addAIMessage(firstQuestion.text, firstQuestion);
      setCurrentQuestion(firstQuestion);
    }
  }
};
```

---

## ã“ã‚Œã§ Section 1 ã®è¨­è¨ˆãŒå®Œäº†ã—ã¾ã—ãŸï¼

æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:
1. **è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼**: ã‚»ã‚¯ã‚·ãƒ§ãƒ³1-1ã€œ1-4ã®æ•´åˆæ€§ç¢ºèª
2. **è³ªå•æ•°ã®æœ€é©åŒ–**: 32-38å•ãŒé©åˆ‡ã‹æ¤œè¨
3. **å®Ÿè£…é–‹å§‹**: conversationalQuestionsStep1.js ã®ä¿®æ­£
4. **Cloud Functionså®Ÿè£…**: generateSection1AllDraft ç­‰ã®ä½œæˆ
5. **UIå®Ÿè£…**: DraftReviewComponentã€TextareaEditComponent ç­‰ã®ä½œæˆ
